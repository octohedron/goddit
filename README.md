## Golang chat server üèì

============================

Note: For the `MongoDB` / `mgo` implementation, check out the reddit branch

##### Try it out!

+ Install redis
+ Clone repo to `$GOPATH/src/github.com/octohedron/goddit`
+ Install dependencies
```Bash
$ go get
```
+ Build the binary
```Bash
$ go build
```
+ Set environment variables
```Bash
# from reddit.com/prefs/apps
$ export APPID=YOUR_APP_ID
$ export APPSECRET=YOUR_APP_SECRET
$ export GODDITADDR=YOUR_SERVER_ADDR # i.e. http://localhost:9000
$ export GODDITDOMAIN=YOUR_CHOSEN_DOMAIN # i.e. localhost / goddit.pro
$ export GPORT=YOUR_PORT # 9000 / 80 
$ export GCOOKIE=YOUR_CHOSEN_COOKIE_NAME # i.e. goddit
```
+ Run it
```Bash
$ nohup ./goddit &
```

## Features
+ Crawls the 25 most popular subreddits
+ GET chatroom history json endpoint
+ Authorize via reddit and pair a `cookie` with a user in the server for Authorization
+ Only broadcasts messages to those present in the room, not to others in different rooms
+ Different color avatars, autogenerated from [placeskull.com](http://placeskull.com)
+ Enforces a single `WebSocket` for each client, closing the connection when switching rooms
+ Each `WebSocket` client reads and writes to a different `goroutine` (2 goroutines/client)
+ Redis writes are performed in a separate `goroutine`
+ It can take more than 6.000 `WebSocket` messages per second from [artillery.io](http://artillery.io) üî•

##### CONTRIBUTING: Yes

LICENSE: MIT

