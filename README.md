## Golang chat server üèì

============================

##### Try it out!

- Install mongodb
- Clone repo to `$GOPATH/src/github.com/octohedron/goddit`
- Install dependencies

```Bash
$ go get
```

- Build the binary

```Bash
$ go build
```

- Set environment variables

```Bash
# from reddit.com/prefs/apps
$ export APPID=YOUR_APP_ID
$ export APPSECRET=YOUR_APP_SECRET
$ export GODDITADDR=YOUR_SERVER_ADDR # i.e. http://localhost:9000
$ export GODDITDOMAIN=YOUR_CHOSEN_DOMAIN # i.e. localhost / goddit.pro
$ export GPORT=YOUR_PORT # 9000 / 80
$ export GCOOKIE=YOUR_CHOSEN_COOKIE_NAME # i.e. goddit
```

- Run it

```Bash
$ nohup ./goddit &
```

## Features

- Crawls popular subreddits (first 25) and adds them as chatrooms in a separate `goroutine` (for faster startup) when you start the program
- Loads previous chatroom history (up to 150 messages) when switching rooms
- Authorizes via reddit and pairs a `cookie` with a user in the server for Authorization
- Only broadcasts messages to those present in the room, not to others in different rooms
- Different color avatars, autogenerated from [placeskull.com](http://placeskull.com)
- Enforces a single `WebSocket` for each client, closing the connection when switching rooms
- Each client reads and writes to a different `goroutine` (2 goroutines/client)
- Database writes are performed in a separate `goroutine`

##### CONTRIBUTING: Yes

LICENSE: MIT
